(this.webpackJsonpbettactoe=this.webpackJsonpbettactoe||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),o=n.n(a),r=n(16),s=n.n(r),i=(n(24),n(12)),l=n(2),u=n(7),j=String(Math.floor(1e5*Math.random())),m=n(17);console.log("connecting to btt server ....");var b=new m.Socket("wss://still-plains-97814.herokuapp.com/socket",{params:{playerId:j}});b.connect();n(25);var d=function(){var e=Object(l.f)(),t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],r=n[1],s=Object(a.useState)(""),i=Object(u.a)(s,2),m=i[0],d=i[1],h=Object(a.useState)(2),O=Object(u.a)(h,2),x=O[0],p=O[1],f=function(e){d(""),p(2),r(e)},v=function(e){d(e.target.value)},g=function(e){var t=parseInt(e.target.value)||2;p(Math.max(2,t))},N=function(t){t.preventDefault();var n={roomName:m,playerCount:x,gameMode:o},c=function(e){var t="",n=e.playerCount,c="btt";switch(e.gameMode){case"default":e.roomName?(t="garuda_matchmaker:".concat(e.roomName,":").concat(c,":").concat(n),e.roomName):t="garuda_matchmaker:".concat(c,":").concat(n);break;case"create":t="garuda_matchmaker:".concat(e.roomName,":").concat(c,":createjoin"),e.roomName;break;case"join":t="garuda_matchmaker:".concat(e.roomName,":").concat(c,":createjoin"),e.roomName,n=-1}var a={roomName:t,playerCount:n,matchId:e.roomName,gameMode:e.gameMode};return b.channel(t,{player_count:a.playerCount,room_name:a.roomName,match_id:a.matchId,mode:a.gameMode})}(n);c.join().receive("ok",(function(e){return console.log("Joined matchmaker",e),"ok"})),c.on("match_maker_event",(function(t){var n;console.log("On match maker event",t),n=t,e.push({pathname:"/game",state:{gameChannelData:n}})})),console.log(n)};return Object(c.jsxs)("div",{className:"menu",children:[Object(c.jsx)("div",{className:"title",children:"Menu"}),Object(c.jsxs)("div",{className:"player-id",children:["PLAYER ID: ",j]}),Object(c.jsxs)("div",{className:"button-container",children:[Object(c.jsx)("button",{className:"btn-mode",onClick:function(){return f("create")},children:"CREATE ROOM"}),Object(c.jsx)("button",{className:"btn-mode",onClick:function(){return f("join")},children:"JOIN ROOM"}),Object(c.jsx)("button",{className:"btn-mode",onClick:function(){return f("default")},children:"RANDOM"})]}),Object(c.jsxs)("div",{className:"mode-input-container",children:["create"===o&&Object(c.jsxs)("form",{onSubmit:N,children:[Object(c.jsxs)("label",{children:["Room name:",Object(c.jsx)("input",{type:"text",placeholder:"Enter room name",value:m,onChange:v})]}),Object(c.jsxs)("label",{children:["Player count:",Object(c.jsx)("input",{type:"text",placeholder:"Enter number",value:x,onChange:g})]}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]}),"join"===o&&Object(c.jsxs)("form",{onSubmit:N,children:[Object(c.jsxs)("label",{children:["Room name:",Object(c.jsx)("input",{type:"text",placeholder:"Enter room name",value:m,onChange:v})]}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]}),"default"===o&&Object(c.jsxs)("form",{onSubmit:N,children:[Object(c.jsxs)("label",{children:["Room name:",Object(c.jsx)("input",{type:"text",placeholder:"Optional",value:m,onChange:v})]}),Object(c.jsxs)("label",{children:["Player count:",Object(c.jsx)("input",{type:"text",placeholder:"Enter number",value:x,onChange:g})]}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]})]})]})},h=function(){return Object(c.jsx)("div",{children:"Lobby"})},O=(n(31),function(e){var t=e.value;return Object(c.jsx)("button",{className:"square",children:t})}),x=(n(32),function(){for(var e=[],t=1;t<=9;t++)e.push(t);return Object(c.jsx)("div",{className:"board",children:e.map((function(e){return Object(c.jsx)(O,{value:e},e)}))})}),p=(n(33),function(e){var t=function(t){e.onClick(t)};return Object(c.jsxs)("div",{className:"bet-controller",children:[Object(c.jsx)("div",{className:"up",onClick:function(){return t(1)},children:"U"}),Object(c.jsx)("div",{className:"down",onClick:function(){return t(-1)},children:"D"})]})}),f=(n(34),function(e){return Object(c.jsxs)("div",{className:"player-hud",children:[Object(c.jsx)("div",{className:"balance",children:e.balance}),Object(c.jsx)("div",{className:"bet",children:e.bet})]})}),v=(n(35),function(){var e=Object(a.useState)(100),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(100),s=Object(u.a)(r,2),i=s[0],l=(s[1],Object(a.useState)(0)),j=Object(u.a)(l,2),m=j[0],b=j[1],d=Object(a.useState)(0),h=Object(u.a)(d,2),O=h[0];h[1];return Object(c.jsxs)("div",{className:"hud",children:[Object(c.jsx)(f,{balance:n,bet:m}),Object(c.jsx)(p,{onClick:function(e){return function(e){var t=Math.max(0,Math.min(100,n-e)),c=Math.max(0,Math.min(100,m+e));o(t),b(c)}(e)}}),Object(c.jsx)(f,{balance:i,bet:O})]})}),g=(n(36),function(){Object(l.f)();return function(e){var t=e.match_id;return b.channel("room:".concat("btt",":").concat(t))}(Object(l.g)().state.gameChannelData).join().receive("ok",(function(e){console.log("Joined matchmaker",e)})),Object(c.jsxs)("div",{className:"game",children:[Object(c.jsx)(v,{}),Object(c.jsx)("div",{className:"bet-confirm",children:Object(c.jsx)("button",{className:"btn-bet-confirm",children:"CONFIRM"})}),Object(c.jsx)(x,{})]})}),N=function(e){return Object(c.jsx)(i.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",component:d}),Object(c.jsx)(l.a,{exact:!0,path:"/lobby",component:h}),Object(c.jsx)(l.a,{exact:!0,path:"/game",component:g})]})})},k=(n(37),function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(N,{})})}),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(k,{})}),document.getElementById("root")),C()}},[[38,1,2]]]);
//# sourceMappingURL=main.f1ae6175.chunk.js.map